<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <script src="main.js" defer></script>
    <title>Fitness</title>
    <link rel="shortcut icon" href="images/zamologo.png" type="image/x-icon">
</head>
<body>
    <div class="container">
        <nav class="navbar">
            <ul>
                <li><img src="/images/zamologo.png" height="50px" width="50px"></li>
                <li><a href="/">Home</a></li>
                <li><a href="/activities">Activities</a></li>
                <li><a href="myprogram">My Program</a></li>
                <li><a href="food&water">Food & Water</a></li>
                <li class="dropdown right">
                  <a href="#"><img src="/images/plus.png" height="50px" width="50"></a>
                  <ul class="dropdown-content">
                    <li><a href="logexercise">Log exercise</a></li>
                    <li><a href="logfood&water">Log food/water</a></li>
                  </ul>
                </li>
                <li class="dropdown">
                  <a href="#"><img src="/images/user_icon.webp" height="50px" width="50px"></a>
                  <ul class="dropdown-content">
                    <li><a href="myprofile">My Profile</a></li>
                    <li><button onclick="logout()">Log out</button></li>
                  </ul>
                </li>
            </ul>
        </nav>
    </div>
    <h1>Log Exercise</h1>
    <form action="logexercise" method="get">
      <label for="title">Title: </label>
      <input type="text" id="title" name="title">
      <br>
      <label for="sport">Sport: </label>
      <select name="sport" id="sport">
        <option value="Strength Training">Strength Training</option>
        <option value="Running">Running</option>
        <option value="Cycling">Cycling</option>
        <option value="Swimming">Swimming</option>
      </select>
      <br>
      <label for="workout-date">Date: </label>
      <input type="date" id="workout-date" name="workout-date">
      <br>
      <label for="workout-time">Time: </label>
      <input type="time" id="workout-time" name="workout-time">
      <br>
      <label for="workout-hrs">Duration:</label>
      <input type="number" id="workout-hrs" name="workout-hrs" min="0" max="24">
      <label for="workout-hrs">hrs</label>
      <input type="number" id="workout-mins" name="workout-mins" min="0" max="59">
      <label for="workout-mins">mins</label>
      <input type="number" id="workout-secs" name="workout-secs" min="0" max="59">
      <label for="workout-secs">secs</label>
      <br>
      <label for="percieved-exertion">Percieved Exertion Rate: </label>
      <select name="percieved-exertion" id="percieved-exertion">
        <option value="1/10">1/10 (Very Light)</option>
        <option value="2/10">2/10 (Light)</option>
        <option value="3/10">3/10 (Light)</option>
        <option value="4/10">4/10 (Moderate)</option>
        <option value="5/10">5/10 (Moderate)</option>
        <option value="6/10">6/10 (Moderate)</option>
        <option value="7/10">7/10 (Vigorous)</option>
        <option value="8/10">8/10 (Vigorous)</option>
        <option value="9/10">9/10 (Very Hard)</option>
        <option value="10/10">10/10 (Maximum Exertion)</option>
      </select>

      <div id="reps-sets" class="reps-sets" style="display:block">
        <button id="add-exercise-to-table" class="add-exercise-to-table">+</button>
        <!-- <button id="delete-exercise-from-table" class="delete-exercise-from-table">-</button> -->
        <table class="tb" id="tb">
          <thead>
            <tr>
              <th>Exercise</th>
              <th>Reps/time</th>
              <th>Sets</th>
              <th>Rest per set</th>
            </tr>
          </thead>
          <tbody>

          </tbody>
        </table>
      </div>

      <div class="elev-gain" id="elev-gain" style="display:none">
        <label for="elev-gain">Elevation gain: </label>
        <input type="number" id="elev-gain" name="elev-gain" min="0">
      </div>

      <div class="distance" id="distance" style="display:none">
        <label for="distance">Distance: </label>
        <input type="number" id="distance" name="distance" min="0">
      </div>

      <input type="submit" value="Submit">

    </form>

</body>
<script>

    activitySelect = document.getElementById("sport")

    elevGainInput = document.getElementById("elev-gain")

    
    distanceInput = document.getElementById("distance")


    repsSetsInput = document.getElementById("reps-sets")



    activitySelect.addEventListener('change', function () {
        if (activitySelect.value == 'Strength Training') {
            repsSetsInput.style.display = 'block';
            elevGainInput.style.display = 'none';
            distanceInput.style.display = 'none';

        } else {
            repsSetsInput.style.display = 'none';
            elevGainInput.style.display = 'block';
            distanceInput.style.display = 'block';
        }
    });

    document.addEventListener("DOMContentLoaded", function () {
      const addRow = document.getElementById("add-exercise-to-table");
      const deleteRow = document.getElementById("delete-exercise-from-table");
      const tableBody = document.querySelector("#tb tbody");


      addRow.addEventListener("click", function () {
          const newRow = document.createElement("tr");
          const exerciseCell = document.createElement("td");
          const repstimeCell = document.createElement("td");
          const setsCell = document.createElement("td");
          const restCell = document.createElement("td");

          const exerciseInput = document.createElement("input");
          const repstimeInput = document.createElement("input");
          const setsInput = document.createElement("input");
          const restInput = document.createElement("input");

          exerciseInput.type = "text"
          exerciseInput.name = "exercise_input"

          repstimeInput.type = "number"
          repstimeInput.min = "0"
          repstimeInput.name = "repstime_input"

          setsInput.type = "number"
          setsInput.name = "sets_input"
          setsInput.min = "0"

          restInput.type = "number"
          restInput.name = "rest_input"
          restInput.min = "0"

          const deleteRow = document.createElement("button")
          deleteRow.textContent = "Delete"
          deleteRow.addEventListener("click", function(){
            tableBody.removeChild(newRow);
          });

          exerciseCell.appendChild(exerciseInput)
          repstimeCell.appendChild(repstimeInput)
          setsCell.appendChild(setsInput)
          restCell.appendChild(restInput)
          exerciseCell.appendChild(deleteRow)

          
          newRow.appendChild(exerciseCell)
          newRow.appendChild(repstimeCell)
          newRow.appendChild(setsCell)
          newRow.appendChild(restCell)

          tableBody.appendChild(newRow);

      });
    });


</script>
</html>