<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <script src="main.js" defer></script>
    <title>Fitness</title>
</head>
<body>
  <form action="/signupquestions_action" method="get" class="signupqs" onsubmit="return validateForm()">
    <div id="pal" class="input-needed">
      <h4>What is your current physical activity level?</h4>
      <input type="radio" id="sedentary" name="pal" value="sedentary">
      <label for="sedentary"><b>Sedentary</b> <p class="label-text">&emsp;&emsp;Exclusively sedentary activity/seated work with little or no strenuous leisure activity</p></label><br>
      <input type="radio" id="minimally_active" name="pal" value="minimally_active">
      <label for="minimally_active"><b>Low active</b><p class="label-text">&emsp;&emsp;Sedentary activity/seated work with some requirement for occasional walking and standing but <br>&emsp;&emsp;little or no strenuous leisure activity</p></label><br>
      <input type="radio" id="moderately_active" name="pal" value="moderately_active">
      <label for="moderately_active"><b>Moderately active</b><p class="label-text">&emsp;&emsp;Predominantly standing or walking work</p></label><br>
      <input type="radio" id="very_active" name="pal" value="very_active">
      <label for="very_active"><b>Very active</b> <p class="label-text">&emsp;&emsp;Heavy occupational work or highly active leisure</p></label><br>
    </div>

    <div id="cardio" class="input-needed">
      <h4>Do you aim to improve your cardiovascular fitness?</h4>
      <input type="radio" id="cardio_true" name="cardio" value="cardio_true" onclick="toggleCardioSection()">
      <label for="cardio_true">Yes</label><br>
      <input type="radio" id="cardio_false" name="cardio" value="cardio_false" onclick="toggleCardioSection()">
      <label for="cardio_false">No</label><br>
    </div>

    <div id="muscle_goals" class="input-needed">
      <h4>What is your primary muscle goal?</h4>
      <input type="radio" id="strength" name="muscle_goals" value="strength">
      <label for="strength">Muscular Strength</label><br>

      <input type="radio" id="hypertrophy" name="muscle_goals" value="hypertrophy">
      <label for="hypertrophy">Hypertrophy</label><br>

      <input type="radio" id="endurance" name="muscle_goals" value="endurance">
      <label for="endurance">Muscular Endurance</label><br>
    </div>

    <div id="fav_cardio">
      <h4>Cardio: </h4>

      <input type="radio" id="running" name="fav_cardio" value="fav_cardio_running">
      <label for="running">Running</label><br>

      <input type="radio" id="cycling" name="fav_cardio" value="fav_cardio_cycling">
      <label for="cycling">Cycling</label><br>

      <input type="radio" id="swimming" name="fav_cardio" value="fav_cardio_swimming">
      <label for="swimming">Swimming</label><br>

      <input type="radio" id="other_box" name="fav_cardio" value="fav_cardio_other_box">
      <label for="other_box">Other (please specify): </label>
      <input type="text" id="other" name="other" value="">

    </div><br>

    <label for="level" id="inline_label">Experience Level: </label>

    <select name="level" id="level" required>
      <option value="beginner">Beginner</option>
      <option value="intermediate">Intermediate</option>
      <option value="advanced">Advanced</option>
    </select>

    <h4>What is your weight goal?</h4>
    <div id="weight_goal" class="input-needed">
      <input type="radio" id="weightgain" name="weight_goal" value="gain">
      <label for="weightgain">Weight gain</label><br>

      <input type="radio" id="weightloss" name="weight_goal" value="loss">
      <label for="weightloss">Weight loss</label><br>

      <input type="radio" id="weightmaintenance" name="weight_goal" value="maintenance">
      <label for="weightmaintenance">Weight maintenance</label>
    </div>

    <br><br>

    <label for="weight" id="inline_label">6. Weight: </label>
    <input type="number" id="weight" name="weight" min="1" required>

    <select name="weight-units" id="weight-units" required>
      <option value="kg">kg</option>
      <option value="lb">lb</option>
      <option value="st">st</option>
    </select>

    <br>

    <label for="height" id="inline_label">7. Height: </label>
    <input type="number" id="height" name="height" min="100" required>

    <select name="height-units" id="height-units" required>
      <option value="cm">cm</option>
      <option value="in">in</option>
    </select>

    <br>

    <label for="dob" id="inline_label">D.O.B: </label>
    <input type="date" id="datepicker" name="date_of_birth" onchange="updateDatePicker()" required>

    <br>

    <h4>Sex: </h4>
    <div class="input-needed" id="sex">
      <input type="radio" id="male" name="sex" value="male">
      <label for="male">Male</label><br>

      <input type="radio" id="female" name="sex" value="female">
      <label for="male">Female</label><br>

      <input type="radio" id="intersex" name="sex" value="intersex">
      <label for="intersex">Intersex</label><br>
    </div>

    <h4>Equipment: </h4>
    <div id="equipment" class="input-needed">
      <input type="checkbox" id="Bench" name="equipment_bench" value="">
      <label for="Bench">Bench</label><br>

      <input type="checkbox" id="Medicine ball" name="equipment_medicine-ball" value="">
      <label for="Medicine ball">Medicine ball</label><br>

      <input type="checkbox" id="Cable machine" name="equipment_cable-machine" value="">
      <label for="Cable machine">Cable machine</label><br>

      <input type="checkbox" id="Torso rotation machine" name="equipment_torso-rotation-machine" value="">
      <label for="Torso rotation machine">Torso rotation machine</label><br>

      <input type="checkbox" id="Ab roller" name="equipment_ab-roller" value="">
      <label for="Ab roller">Ab roller</label><br>

      <input type="checkbox" id="Dumbbell" name="equipment_dumbbell" value="">
      <label for="Dumbbell">Dumbbell</label><br>

      <input type="checkbox" id="Barbell" name="equipment_barbell" value="">
      <label for="Barbell">Barbell</label><br>

      <input type="checkbox" id="Assisted pullup machine" name="equipment_assisted-pullup-machine" value="">
      <label for="Assisted pullup machine">Assisted pullup machine</label><br>

      <input type="checkbox" id="Lat pulldown machine" name="equipment_lat-pulldown-machine" value="">
      <label for="Lat pulldown machine">Lat pulldown machine</label><br>

      <input type="checkbox" id="Pullup bar" name="equipment_pullup-bar" value="">
      <label for="Pullup bar">Pullup bar</label><br>

      <input type="checkbox" id="V-bar" name="equipment_v-bar" value="">
      <label for="V-bar">V-bar</label><br>

      <input type="checkbox" id="Machine row" name="equipment_machine-row" value="">
      <label for="Machine row">Machine row</label><br>

      <input type="checkbox" id="EZ bar" name="equipment_ez-bar" value="">
      <label for="EZ bar">EZ bar</label><br>

      <input type="checkbox" id="Preacher curl machine" name="equipment_preacher-curl-machine" value="">
      <label for="Preacher curl machine">Preacher curl machine</label><br>

      <input type="checkbox" id="Rope" name="equipment_rope" value="">
      <label for="Rope">Rope</label><br>

      <input type="checkbox" id="Leg press machine" name="equipment_leg-press-machine" value="">
      <label for="Leg press machine">Leg press machine</label><br>

      <input type="checkbox" id="Smith machine" name="equipment_smith-machine" value="">
      <label for="Smith machine">Smith machine</label><br>

      <input type="checkbox" id="Calf raise machine" name="equipment_calf-raise-machine" value="">
      <label for="Calf raise machine">Calf raise machine</label><br>

      <input type="checkbox" id="Chest press machine" name="equipment_chest-press-machine" value="">
      <label for="Chest press machine">Chest press machine</label><br>

      <input type="checkbox" id="Bench press machine" name="equipment_bench-press-machine" value="">
      <label for="Bench press machine">Bench press machine</label><br>

      <input type="checkbox" id="Plate" name="equipment_plate" value="Plate">
      <label for="Plate">Plate</label><br>

      <input type="checkbox" id="Dip assist machine" name="equipment_dip-assist-machine" value="">
      <label for="Dip assist machine">Dip assist machine</label><br>

      <input type="checkbox" id="Dip machine" name="equipment_dip-machine" value="">
      <label for="Dip machine">Dip machine</label><br>
    </div>
    
    <h4>What days are you able to workout?</h4>

    <div id="workout_days" class="input-needed">
      <input type="checkbox" id="monday" name="monday" value="">
      <label for="monday">Monday</label><br>

      <input type="checkbox" id="tuesday" name="tuesday" value="">
      <label for="tuesday">Tuesday</label><br>

      <input type="checkbox" id="wednesday" name="wednesday" value="">
      <label for="wednesday">Wednesday</label><br>

      <input type="checkbox" id="thursday" name="thursday" value="">
      <label for="thursday">Thursday</label><br>

      <input type="checkbox" id="friday" name="friday" value="">
      <label for="friday">Friday</label><br>

      <input type="checkbox" id="saturday" name="saturday" value="">
      <label for="saturday">Saturday</label><br>

      <input type="checkbox" id="sunday" name="sunday" value="">
      <label for="sunday">Sunday</label><br>
    </div>
    
    <br><br>

    <label for="rhr" id="inline_label">Resting Heart Rate (RHR): </label>
    <input type="number" id="rhr" name="rhr" value="" min="0" max="220" required >

    <br><br><br>

    <input type="submit" id="submit" value="Start your fitness journey">

  </form>
</body>
<script>
  function toggleCardioSection() {
    const cardioSection = document.getElementById("fav_cardio");
    const cardioTrue = document.getElementById("cardio_true");

    cardioSection.style.display = cardioTrue.checked ? "block" : "none";
  }

  function validateForm() {
    const failed = document.querySelectorAll('.required');
    for (i = 0; i < failed.length; i++) {
      failed[i].classList.remove("required")
    }
    const inputs = document.querySelectorAll('.input-needed');

    category_loop: for (i = 0; i < inputs.length; i++) {
      const options = inputs[i].querySelectorAll("[type='checkbox'], [type='radio']");
      console.log(options)
      for (j = 0; j < options.length; j++) {
        if (options[j].checked) {
          continue category_loop
        }
      }
      inputs[i].scrollIntoView()
      inputs[i].classList.add("required")
      return false
    }
  }
</script>

<script> // set the data
  function restrictDate() {
    var selectedDate = new Date(document.getElementById("datepicker").value);
    var currentDate =  new Date();
    if (selectedDate > currentDate) {
      alert("Please enter a date not in the future.");
      setToday();
    }
  }

  function updateDatePicker() {
            restrictDate()
            const datePicker = document.getElementById("datepicker");
            const selectedDate = new Date(datePicker.value);
            setDatePickerValue(selectedDate);
        }

        function setDatePickerValue(date) {
            const datePicker = document.getElementById("datepicker");
            const year = date.getFullYear();
            const month = (date.getMonth() + 1).toString().padStart(2, '0');
            const day = date.getDate().toString().padStart(2, '0');
            datePicker.value = `${year}-${month}-${day}`;
        }

        function navigateDate(offset) {
            const datePicker = document.getElementById("datepicker");
            const currentDate = new Date(datePicker.value);
            if (offset == 1) {
              restrictDate()
            }
            currentDate.setDate(currentDate.getDate() + offset);
            setDatePickerValue(currentDate);
        }

        function setToday() {
            const today = new Date();
            setDatePickerValue(today);
        }

        // Set the initial date to today
        document.addEventListener("DOMContentLoaded", function () {
            setToday();
        });
</script>

</html>