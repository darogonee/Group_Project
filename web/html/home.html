<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />


    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="main.js" defer></script>
    <title>Fitness</title>
    <style>
      #map {
          border-top: 2px solid black;
          border-bottom: 2px solid black;
          width: 100%;
          height: 100%;
      }
  </style>
</head>
<body>
    <div class="container">
        <nav class="navbar" style="position:fixed;top:0;width:100%;z-index: 1001;">
            <ul>
                <li><img src="/images/zamologo_name.png" height="50px" width="50px"></li>
                <li><a href="/">Home</a></li>
                <li><a href="/activities">Activities</a></li>
                <li><a href="myprogram">My Program</a></li>
                <li><a href="food">Nutrition</a></li>
                <li class="dropdown right"><a href="refresh?path=/">Refresh</a></li>
                <li class="dropdown right">
                  <a href="#"><img src="/images/pluslogo2.svg" height="50px" width="50"></a>
                  <ul class="dropdown-content">
                    <li><a href="logexercise">Log exercise</a></li>
                    <li><a href="logfood">Log food/water</a></li>
                  </ul>
                </li>
                <li class="dropdown">
                  <a href="#"><img src="/images/user_icon.webp" height="50px" width="50px"></a>
                  <ul class="dropdown-content">
                    <li><a href="myprofile">My Profile</a></li>
                    <li><a onclick="logout()">Log out</a></li>
                  </ul>
                </li>
            </ul>
        </nav>
    </div>
    <h1>Home</h1>
    
    <div class="dashboard-container">
      <div class="recent-activity home-box">
        <!-- recent exercise stats + map -->
        <h3>Recent exercise</h3>
        <div id="map"></div>
        <h4 class="tittle">Activity Type: template_type</h4>
        <h4 class="tittle">Date: template_date</h4>
        <h4 class="tittle">Time: template_time</h4>
        <h4 class="tittle">Distance: template_distance</h4>
      </div>
      <div class="nutrition-water-box-container">
        <div class="estimated-calories home-box">
          <h3>Calories</h3>
          <p>calories_content</p>
        </div>
        <div class="macros home-box">
          <h3>Macros</h3>
          <p>macros_content</p>
          <div class="colour-gradient">Least Ideal&emsp;&emsp; &emsp; &emsp; &emsp; &emsp; &emsp; &emsp; Most Ideal</div>
        </div>
      </div>
      <div class="training-box-container">
        <div class="training-calendar home-box">
          <table id="calendar">
            <thead>
              <h3>Training Calendar</h3>
            </thead>
            <tbody>
              <tr>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
              </tr>
              <tr>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
              </tr>
              <tr>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
              </tr>
              <tr>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
              </tr>
              <tr>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
                <td>
                  x
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="last-month home-box">
          <h3>Last month</h3>
          <h4>Distance: template_lastm_distance</h4>
          <h4>Number of Activities: template_lastm_activities</h4>
          <h4>Totoal Time: template_lastm_ttime</h4>
        </div>
      </div>

      <div class="recent-badges home-box">
        <div class="exercise-streak home-box">

        </div>
        <h3>Recent Badges</h3>
        <!-- <img src="/images/zamologo_name.png" height="80px" width="80px"> -->
        
      </div>
    </div>



</body>
  

<script>
// Map

  topleft = template_topleft
  bottomright = template_bottomright
var map = L.map("map", {
    minZoom: 12.0,
    maxBounds: [[topleft], [bottomright]],
    maxBoundsViscosity: 0.9
}).setView([(topleft[0]+bottomright[0])/2, (topleft[1]+bottomright[1])/2], 15)

// Add the OpenStreetMap tile layer to the map
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?{noLabels}", {
    attribution: "template_activity_name",
    maxZoom: 30,
    noLabels: true
}).addTo(map)


points = template_points
line = L.polyline(points, {color: "red"})
map.addLayer(line)

// Icons

icon = L.Icon.extend({
  options: {
    iconSize:     [38, 38], // size of the icon
    iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
  }
});

// Start
startIcon = new icon({iconUrl: '/images/zamologo_name.png'}), 
L.marker(points[0], {icon: startIcon}).addTo(map);

// End 
endIcon = new icon({iconUrl: '/images/zamologo_name.png'}), 
L.marker(points[points.length-1], {icon: endIcon}).addTo(map);

</script>

<script>
// Calendar

const calendar = document.getElementById("calendar")
const month = calendar.children[1]
month_day = template_month_day
month_data = template_month_data

i = 2 - month_day
for (const week of month.children) {
  for (const day of week.children) {
    if (i > 0 && i <= month_data.length) {
      day.innerHTML = month_data[i-1]
    }  
    i++
  }
}

</script>
<style>
  .progress-bar {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: 
    radial-gradient(closest-side, white 79%, transparent 80% 100%),
    conic-gradient(hotpink 70%, pink 0);    
}
</style>
<div class="progress-bar">
  <progress value="70" min="0" max="100" style="visibility:hidden;height:0;width:0;">70%</progress>
</div>
<div class="progress-bar">
  <progress value="70" min="0" max="100" style="visibility:hidden;height:0;width:0;">70%</progress>
</div>